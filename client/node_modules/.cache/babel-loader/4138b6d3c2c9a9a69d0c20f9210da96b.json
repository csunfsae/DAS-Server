{"ast":null,"code":"import _defineProperty from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{useForm}from'react-hook-form';import{useSelector,useDispatch}from'react-redux';import{updateSelectedLapNumber,updateModalStepForward,updateModalStepBackwards}from'../../../actions/historyPage/modalActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LapSelectionForm(props){var _jsx2;var _useForm=useForm(),handleSubmit=_useForm.handleSubmit,register=_useForm.register;var allDriveDays=useSelector(function(state){return state.historyModal.driveDays;});var selectedDriveDateIndex=useSelector(function(state){return state.historyModal.selectedDriveDateIndex;});var sessionNumber=useSelector(function(state){return state.historyModal.selectedSessionNumber;});var dispatch=useDispatch();var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log(data.lap);\ndispatch(updateSelectedLapNumber(data.lap));dispatch(updateModalStepForward());case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Lap: \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"select\",{defaultValue:props.lapData,className:\"form-control\",name:\"lap\",ref:register,children:allDriveDays[selectedDriveDateIndex][\"sessions\"][sessionNumber-1][\"laps\"].map(function(lap,index){return/*#__PURE__*/_jsx(\"option\",{value:lap.lap_number,children:lap.lap_number},index+1);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){dispatch(updateModalStepBackwards());},className:\"d-block\",children:\" Back \"}),/*#__PURE__*/_jsx(\"button\",(_jsx2={className:\"btn btn-primary\",type:\"submit\"},_defineProperty(_jsx2,\"className\",\"d-block\"),_defineProperty(_jsx2,\"children\",\"Next\"),_jsx2))]})]})]});}export default LapSelectionForm;","map":{"version":3,"sources":["C:/Users/brand/source/repos/DAS-Server/client/src/components/historyPage/forms/LapSelectionForm.js"],"names":["React","useForm","useSelector","useDispatch","updateSelectedLapNumber","updateModalStepForward","updateModalStepBackwards","LapSelectionForm","props","handleSubmit","register","allDriveDays","state","historyModal","driveDays","selectedDriveDateIndex","sessionNumber","selectedSessionNumber","dispatch","onSubmit","data","lap","lapData","map","index","lap_number"],"mappings":"2eAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,iBAAtB,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,uBAAR,CAAiCC,sBAAjC,CAAyDC,wBAAzD,KAAwF,2CAAxF,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,WAE7B,aAAiCP,OAAO,EAAxC,CAAOQ,YAAP,UAAOA,YAAP,CAAqBC,QAArB,UAAqBA,QAArB,CAEA,GAAMC,CAAAA,YAAY,CAAGT,WAAW,CAAE,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACC,YAAN,CAAmBC,SAA9B,EAAF,CAAhC,CAEA,GAAMC,CAAAA,sBAAsB,CAAGb,WAAW,CAAE,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACC,YAAN,CAAmBE,sBAA9B,EAAF,CAA1C,CAEA,GAAMC,CAAAA,aAAa,CAAGd,WAAW,CAAE,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACC,YAAN,CAAmBI,qBAA9B,EAAF,CAAjC,CAEA,GAAMC,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CAEA,GAAMgB,CAAAA,QAAQ,0FAAG,iBAAOC,IAAP,kHACb;AACAF,QAAQ,CAACd,uBAAuB,CAACgB,IAAI,CAACC,GAAN,CAAxB,CAAR,CACAH,QAAQ,CAAEb,sBAAsB,EAAxB,CAAR,CAHa,sDAAH,kBAARc,CAAAA,QAAQ,4CAAd,CAMA,mBACI,oCACI,oCADJ,cAEI,cAAM,QAAQ,CAAEV,YAAY,CAACU,QAAD,CAA5B,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,eAAQ,YAAY,CAAEX,KAAK,CAACc,OAA5B,CAAqC,SAAS,CAAC,cAA/C,CAA8D,IAAI,CAAC,KAAnE,CAAyE,GAAG,CAAEZ,QAA9E,UACKC,YAAY,CAACI,sBAAD,CAAZ,CAAqC,UAArC,EAAiDC,aAAa,CAAE,CAAhE,EAAmE,MAAnE,EAA2EO,GAA3E,CAAgF,SAACF,GAAD,CAAMG,KAAN,qBAC7E,eAAwB,KAAK,CAAEH,GAAG,CAACI,UAAnC,UAAgDJ,GAAG,CAACI,UAApD,EAAaD,KAAK,CAAG,CAArB,CAD6E,EAAhF,CADL,EADJ,EADJ,cAQI,aAAK,SAAS,CAAC,QAAf,wBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,kBAAM,CAACN,QAAQ,CAACZ,wBAAwB,EAAzB,CAAR,CAAsC,CAA5E,CAA8E,SAAS,CAAC,SAAxF,oBADJ,cAEI,sBAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAC,QAAzC,oCAA4D,SAA5D,kDAFJ,GARJ,GAFJ,GADJ,CAkBH,CAKD,cAAeC,CAAAA,gBAAf","sourcesContent":["import React from 'react';\r\nimport {useForm} from 'react-hook-form';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {updateSelectedLapNumber, updateModalStepForward, updateModalStepBackwards} from '../../../actions/historyPage/modalActions';\r\n\r\nfunction LapSelectionForm(props) {\r\n\r\n    const {handleSubmit, register} = useForm();\r\n    \r\n    const allDriveDays = useSelector( (state) => state.historyModal.driveDays);\r\n\r\n    const selectedDriveDateIndex = useSelector( (state) => state.historyModal.selectedDriveDateIndex);\r\n\r\n    const sessionNumber = useSelector( (state) => state.historyModal.selectedSessionNumber);\r\n\r\n    const dispatch = useDispatch();\r\n    \r\n    const onSubmit = async (data) => {\r\n        // console.log(data.lap);\r\n        dispatch(updateSelectedLapNumber(data.lap));\r\n        dispatch (updateModalStepForward());\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Select Lap: </h2>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <div className=\"form-group\">\r\n                    <select defaultValue={props.lapData} className=\"form-control\" name=\"lap\" ref={register}>\r\n                        {allDriveDays[selectedDriveDateIndex][\"sessions\"][sessionNumber -1][\"laps\"].map( (lap, index) =>\r\n                            <option key={index + 1} value={lap.lap_number}>{lap.lap_number}</option>\r\n                        )}\r\n                    </select>\r\n                </div>\r\n                <div className=\"d-flex\">\r\n                    <button type=\"button\" onClick={() => {dispatch(updateModalStepBackwards() )}} className=\"d-block\"> Back </button>\r\n                    <button className=\"btn btn-primary\" type=\"submit\" className=\"d-block\">Next</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default LapSelectionForm;\r\n"]},"metadata":{},"sourceType":"module"}