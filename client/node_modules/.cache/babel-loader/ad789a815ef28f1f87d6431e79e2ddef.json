{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{GoogleLogout}from'react-google-login';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function Logout(){var history=useHistory();var onSuccess=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,status;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/v1/auth/google/logout\",{method:\"Get\",credentials:'include',headers:{\"Content-Type\":\"application/json\"}});case 2:res=_context.sent;status=res.status;if(status===200){history.push(\"/\");}else{alert(\"User was not logged out.  Please try again.\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSuccess(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(GoogleLogout,{clientId:process.env.REACT_APP_GOOGLE_CLIENT_ID,buttonText:\"Logout\",onLogoutSuccess:onSuccess,isSignedIn:false})});}export default Logout;","map":{"version":3,"sources":["C:/Users/brand/source/repos/das-server/client/src/components/login/Logout.js"],"names":["React","GoogleLogout","useHistory","Logout","history","onSuccess","fetch","method","credentials","headers","res","status","push","alert","process","env","REACT_APP_GOOGLE_CLIENT_ID"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,KAA6B,oBAA7B,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,2CAEA,QAASC,CAAAA,MAAT,EAAkB,CAChB,GAAMC,CAAAA,OAAO,CAAGF,UAAU,EAA1B,CAEA,GAAMG,CAAAA,SAAS,0FAAG,wKACEC,CAAAA,KAAK,8BAA+B,CACpDC,MAAM,CAAE,KAD4C,CAEpDC,WAAW,CAAE,SAFuC,CAGpDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAH2C,CAA/B,CADP,QACVC,GADU,eAQVC,MARU,CAQDD,GAAG,CAACC,MARH,CAShB,GAAIA,MAAM,GAAK,GAAf,CAAoB,CAClBP,OAAO,CAACQ,IAAR,CAAa,GAAb,EACD,CAFD,IAEO,CACLC,KAAK,CAAC,6CAAD,CAAL,CACD,CAbe,sDAAH,kBAATR,CAAAA,SAAS,0CAAf,CAgBA,mBACE,kCACE,KAAC,YAAD,EACE,QAAQ,CAAES,OAAO,CAACC,GAAR,CAAYC,0BADxB,CAEE,UAAU,CAAC,QAFb,CAGE,eAAe,CAAEX,SAHnB,CAIE,UAAU,CAAE,KAJd,EADF,EADF,CAUD,CAED,cAAeF,CAAAA,MAAf","sourcesContent":["import React from 'react';\r\nimport { GoogleLogout } from 'react-google-login';\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nfunction Logout() {\r\n  const history = useHistory();\r\n\r\n  const onSuccess = async () => {\r\n    const res = await fetch(`/api/v1/auth/google/logout`, {\r\n      method: \"Get\",\r\n      credentials: 'include',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n    const status = res.status;\r\n    if (status === 200) {\r\n      history.push(\"/\");\r\n    } else {\r\n      alert(\"User was not logged out.  Please try again.\")\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <GoogleLogout\r\n        clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\r\n        buttonText=\"Logout\"\r\n        onLogoutSuccess={onSuccess}\r\n        isSignedIn={false}\r\n      ></GoogleLogout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Logout;"]},"metadata":{},"sourceType":"module"}