{"ast":null,"code":"import _toConsumableArray from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{ADD_COORDINATE_TO_GPS_TRACK,UPDATE_CAR_LOCATION,UPDATE_GPS_MAP_CONTAINER_DIMENSIONS,UPDATE_GPS_MAP_SVG_DIMENSIONS,UPDATE_FIRST_LAP}from'../../actions/livePage/gpsActions';import proj4 from'proj4';var initalStartPosition=function initalStartPosition(latitude,longitude){var _proj=proj4(\"EPSG:4326\",\"EPSG:3857\",[parseFloat(longitude.toFixed(7)),parseFloat(latitude.toFixed(7))]),_proj2=_slicedToArray(_proj,2),x=_proj2[0],y=_proj2[1];return{x:x,y:y};};var initalState={gpsTrackCoordinates:[],startLocation:initalStartPosition(34.876530909858,-118.257521724907),carLocation:{x:-118.257521724907,y:34.876530909858,verticalDisplacement:0},GPSMapContainerDimensions:{height:0,width:0},GPSMapSvgPathDimensions:{x:0,y:0,width:0,height:0},firstLap:true};function gpsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initalState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_COORDINATE_TO_GPS_TRACK:return _objectSpread(_objectSpread({},state),{},{gpsTrackCoordinates:[].concat(_toConsumableArray(state.gpsTrackCoordinates),[action.payload])});case UPDATE_CAR_LOCATION:return _objectSpread(_objectSpread({},state),{},{carLocation:action.payload});case UPDATE_GPS_MAP_CONTAINER_DIMENSIONS:return _objectSpread(_objectSpread({},state),{},{GPSMapContainerDimensions:action.payload});case UPDATE_GPS_MAP_SVG_DIMENSIONS:return _objectSpread(_objectSpread({},state),{},{GPSMapSvgPathDimensions:action.payload});case UPDATE_FIRST_LAP:return _objectSpread(_objectSpread({},state),{},{firstLap:action.payload});default:return state;}}export default gpsReducer;","map":{"version":3,"sources":["C:/Users/brand/source/repos/DAS-Server/client/src/reducers/livePage/gpsReducer.js"],"names":["ADD_COORDINATE_TO_GPS_TRACK","UPDATE_CAR_LOCATION","UPDATE_GPS_MAP_CONTAINER_DIMENSIONS","UPDATE_GPS_MAP_SVG_DIMENSIONS","UPDATE_FIRST_LAP","proj4","initalStartPosition","latitude","longitude","parseFloat","toFixed","x","y","initalState","gpsTrackCoordinates","startLocation","carLocation","verticalDisplacement","GPSMapContainerDimensions","height","width","GPSMapSvgPathDimensions","firstLap","gpsReducer","state","action","type","payload"],"mappings":"mfAAA,OAAQA,2BAAR,CAAqCC,mBAArC,CAA0DC,mCAA1D,CAA+FC,6BAA/F,CAA8HC,gBAA9H,KAAqJ,mCAArJ,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,QAAD,CAAWC,SAAX,CAAyB,CACjD,UAAcH,KAAK,CAAC,WAAD,CAAc,WAAd,CAA2B,CAAEI,UAAU,CAACD,SAAS,CAACE,OAAV,CAAkB,CAAlB,CAAD,CAAZ,CAAqCD,UAAU,CAACF,QAAQ,CAACG,OAAT,CAAiB,CAAjB,CAAD,CAA/C,CAA3B,CAAnB,gCAAOC,CAAP,WAASC,CAAT,WAEA,MAAO,CACHD,CAAC,CAAEA,CADA,CAEHC,CAAC,CAAEA,CAFA,CAAP,CAIH,CAPD,CASA,GAAMC,CAAAA,WAAW,CAAG,CAChBC,mBAAmB,CAAE,EADL,CAEhBC,aAAa,CAAET,mBAAmB,CAAC,eAAD,CAAkB,CAAC,gBAAnB,CAFlB,CAGhBU,WAAW,CAAE,CAACL,CAAC,CAAE,CAAC,gBAAL,CAAuBC,CAAC,CAAE,eAA1B,CAA2CK,oBAAoB,CAAE,CAAjE,CAHG,CAIhBC,yBAAyB,CAAE,CAAEC,MAAM,CAAE,CAAV,CAAaC,KAAK,CAAE,CAApB,CAJX,CAKhBC,uBAAuB,CAAE,CAACV,CAAC,CAAE,CAAJ,CAAOC,CAAC,CAAE,CAAV,CAAaQ,KAAK,CAAE,CAApB,CAAuBD,MAAM,CAAE,CAA/B,CALT,CAMhBG,QAAQ,CAAE,IANM,CAApB,CASA,QAASC,CAAAA,UAAT,EAAiD,IAA7BC,CAAAA,KAA6B,2DAArBX,WAAqB,IAARY,CAAAA,MAAQ,2CAC7C,OAAOA,MAAM,CAACC,IAAd,EAEI,IAAK1B,CAAAA,2BAAL,CACI,sCACOwB,KADP,MAEIV,mBAAmB,8BAAMU,KAAK,CAACV,mBAAZ,GAAiCW,MAAM,CAACE,OAAxC,EAFvB,GAKJ,IAAK1B,CAAAA,mBAAL,CACI,sCACOuB,KADP,MAEIR,WAAW,CAAES,MAAM,CAACE,OAFxB,GAKJ,IAAKzB,CAAAA,mCAAL,CACI,sCACOsB,KADP,MAEIN,yBAAyB,CAAEO,MAAM,CAACE,OAFtC,GAKJ,IAAKxB,CAAAA,6BAAL,CACI,sCACOqB,KADP,MAEIH,uBAAuB,CAAEI,MAAM,CAACE,OAFpC,GAKJ,IAAKvB,CAAAA,gBAAL,CACI,sCACOoB,KADP,MAEIF,QAAQ,CAAEG,MAAM,CAACE,OAFrB,GAKJ,QACI,MAAOH,CAAAA,KAAP,CAjCR,CAmCH,CAED,cAAeD,CAAAA,UAAf","sourcesContent":["import {ADD_COORDINATE_TO_GPS_TRACK, UPDATE_CAR_LOCATION, UPDATE_GPS_MAP_CONTAINER_DIMENSIONS, UPDATE_GPS_MAP_SVG_DIMENSIONS, UPDATE_FIRST_LAP} from '../../actions/livePage/gpsActions';\r\nimport proj4 from 'proj4';\r\n\r\nconst initalStartPosition = (latitude, longitude) => {\r\n    const [x,y] = proj4(\"EPSG:4326\", \"EPSG:3857\", [ parseFloat(longitude.toFixed(7)),  parseFloat(latitude.toFixed(7))] );\r\n    \r\n    return {\r\n        x: x,\r\n        y: y\r\n    }\r\n}\r\n\r\nconst initalState = {\r\n    gpsTrackCoordinates: [],\r\n    startLocation: initalStartPosition(34.876530909858, -118.257521724907),\r\n    carLocation: {x: -118.257521724907, y: 34.876530909858, verticalDisplacement: 0},\r\n    GPSMapContainerDimensions: { height: 0, width: 0},\r\n    GPSMapSvgPathDimensions: {x: 0, y: 0, width: 0, height: 0},\r\n    firstLap: true\r\n}\r\n\r\nfunction gpsReducer(state = initalState, action) {\r\n    switch(action.type) {\r\n        \r\n        case ADD_COORDINATE_TO_GPS_TRACK:\r\n            return {\r\n                ...state,\r\n                gpsTrackCoordinates: [...state.gpsTrackCoordinates, action.payload]\r\n            }\r\n\r\n        case UPDATE_CAR_LOCATION:\r\n            return {\r\n                ...state,\r\n                carLocation: action.payload\r\n            }\r\n\r\n        case UPDATE_GPS_MAP_CONTAINER_DIMENSIONS:\r\n            return {\r\n                ...state,\r\n                GPSMapContainerDimensions: action.payload\r\n            }\r\n\r\n        case UPDATE_GPS_MAP_SVG_DIMENSIONS:\r\n            return {\r\n                ...state,\r\n                GPSMapSvgPathDimensions: action.payload\r\n            }\r\n        \r\n        case UPDATE_FIRST_LAP:\r\n            return {\r\n                ...state,\r\n                firstLap: action.payload\r\n            }\r\n\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default gpsReducer;"]},"metadata":{},"sourceType":"module"}