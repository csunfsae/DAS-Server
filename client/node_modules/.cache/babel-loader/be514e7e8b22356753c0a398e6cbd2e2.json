{"ast":null,"code":"import _defineProperty from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{useForm,Controller}from'react-hook-form';import axios from'axios';import DatePicker from'react-datepicker';import'react-datepicker/dist/react-datepicker.css';import{updateSearchedDriveDayBeginDate,updateSearchedDriveDayEndDate,addSearchedDriveDays,updateModalStepForward}from'../../../actions/historyPage/modalActions';import{useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DateForm(props){var _jsx2;var _useForm=useForm(),handleSubmit=_useForm.handleSubmit,control=_useForm.control;var dispatch=useDispatch();var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var driveDayStartDateISO,driveDayEndDateISO,driveDayStartDate,driveDayEndDate,driveDays;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:driveDayStartDateISO=new Date(data.startDate).toISOString();driveDayEndDateISO=new Date(data.endDate).toISOString();driveDayStartDate=driveDayStartDateISO.substr(0,driveDayStartDateISO.indexOf(\"T\"));driveDayEndDate=driveDayEndDateISO.substr(0,driveDayEndDateISO.indexOf(\"T\"));dispatch(updateSearchedDriveDayBeginDate(driveDayStartDate));dispatch(updateSearchedDriveDayEndDate(driveDayEndDate));_context.next=8;return axios.get(\"http://localhost:4000/api/v1/drive-days?dates=\".concat(driveDayStartDate,\",\").concat(driveDayEndDate));case 8:driveDays=_context.sent;dispatch(addSearchedDriveDays(driveDays.data));dispatch(updateModalStepForward());case 11:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mr-2\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Start Date\"}),/*#__PURE__*/_jsx(Controller,{name:\"startDate\",control:control,render:function render(_ref2){var onChange=_ref2.onChange,value=_ref2.value,defaultValue=_ref2.defaultValue;return/*#__PURE__*/_jsx(DatePicker,{selected:value,placeholderText:\"Search Start Date\",onChange:onChange,showYearDropdown:true});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"End Date\"}),/*#__PURE__*/_jsx(Controller,{name:\"endDate\",control:control,render:function render(_ref3){var onChange=_ref3.onChange,value=_ref3.value;return/*#__PURE__*/_jsx(DatePicker,{placeholderText:\"Search End Date\",selected:value,onChange:onChange,showYearDropdown:true});}})]})]}),/*#__PURE__*/_jsx(\"button\",(_jsx2={className:\"btn btn-primary\",type:\"submit\"},_defineProperty(_jsx2,\"className\",\"d-block\"),_defineProperty(_jsx2,\"children\",\"Next\"),_jsx2))]});}export default DateForm;","map":{"version":3,"sources":["C:/Users/brand/source/repos/das-server/client/src/components/historyPage/forms/DateForm.js"],"names":["React","useForm","Controller","axios","DatePicker","updateSearchedDriveDayBeginDate","updateSearchedDriveDayEndDate","addSearchedDriveDays","updateModalStepForward","useDispatch","DateForm","props","handleSubmit","control","dispatch","onSubmit","data","driveDayStartDateISO","Date","startDate","toISOString","driveDayEndDateISO","endDate","driveDayStartDate","substr","indexOf","driveDayEndDate","get","driveDays","onChange","value","defaultValue"],"mappings":"2eAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,CAAiBC,UAAjB,KAAkC,iBAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAO,4CAAP,CACA,OAAQC,+BAAR,CAAyCC,6BAAzC,CAAwEC,oBAAxE,CAA8FC,sBAA9F,KAA2H,2CAA3H,CACA,OAAQC,WAAR,KAA0B,aAA1B,C,wFAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,WAErB,aAAgCV,OAAO,EAAvC,CAAOW,YAAP,UAAOA,YAAP,CAAqBC,OAArB,UAAqBA,OAArB,CACA,GAAMC,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CAEA,GAAMM,CAAAA,QAAQ,0FAAG,iBAAOC,IAAP,0MACPC,oBADO,CACgB,GAAIC,CAAAA,IAAJ,CAASF,IAAI,CAACG,SAAd,EAAyBC,WAAzB,EADhB,CAEPC,kBAFO,CAEc,GAAIH,CAAAA,IAAJ,CAASF,IAAI,CAACM,OAAd,EAAuBF,WAAvB,EAFd,CAIPG,iBAJO,CAIaN,oBAAoB,CAACO,MAArB,CAA4B,CAA5B,CAA+BP,oBAAoB,CAACQ,OAArB,CAA6B,GAA7B,CAA/B,CAJb,CAKPC,eALO,CAKWL,kBAAkB,CAACG,MAAnB,CAA0B,CAA1B,CAA6BH,kBAAkB,CAACI,OAAnB,CAA2B,GAA3B,CAA7B,CALX,CAObX,QAAQ,CAACT,+BAA+B,CAACkB,iBAAD,CAAhC,CAAR,CACAT,QAAQ,CAACR,6BAA6B,CAACoB,eAAD,CAA9B,CAAR,CARa,sBAUWvB,CAAAA,KAAK,CAACwB,GAAN,yDAA2DJ,iBAA3D,aAAgFG,eAAhF,EAVX,QAUPE,SAVO,eAYbd,QAAQ,CAACP,oBAAoB,CAACqB,SAAS,CAACZ,IAAX,CAArB,CAAR,CACAF,QAAQ,CAACN,sBAAsB,EAAvB,CAAR,CAba,uDAAH,kBAARO,CAAAA,QAAQ,4CAAd,CAgBA,mBACI,cAAM,QAAQ,CAAEH,YAAY,CAACG,QAAD,CAA5B,wBACI,aAAK,SAAS,CAAC,QAAf,wBACI,aAAK,SAAS,CAAC,MAAf,wBACI,iCADJ,cAEI,KAAC,UAAD,EAAY,IAAI,CAAC,WAAjB,CAA6B,OAAO,CAAEF,OAAtC,CAA+C,MAAM,CACjD,0BAAIgB,CAAAA,QAAJ,OAAIA,QAAJ,CAAcC,KAAd,OAAcA,KAAd,CAAqBC,YAArB,OAAqBA,YAArB,oBACA,KAAC,UAAD,EAAY,QAAQ,CAAED,KAAtB,CAA6B,eAAe,CAAC,mBAA7C,CAAkE,QAAQ,CAAED,QAA5E,CAAsF,gBAAgB,KAAtG,EADA,EADJ,EAFJ,GADJ,cAQI,oCACI,+BADJ,cAEI,KAAC,UAAD,EAAY,IAAI,CAAC,SAAjB,CAA2B,OAAO,CAAEhB,OAApC,CAA6C,MAAM,CAC/C,0BAAIgB,CAAAA,QAAJ,OAAIA,QAAJ,CAAcC,KAAd,OAAcA,KAAd,oBACA,KAAC,UAAD,EAAY,eAAe,CAAC,iBAA5B,CAA8C,QAAQ,CAAEA,KAAxD,CAA+D,QAAQ,CAAED,QAAzE,CAAmF,gBAAgB,KAAnG,EADA,EADJ,EAFJ,GARJ,GADJ,cAiBI,sBAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAC,QAAzC,oCAA4D,SAA5D,kDAjBJ,GADJ,CAqBH,CAED,cAAenB,CAAAA,QAAf","sourcesContent":["import React from 'react'\r\nimport {useForm, Controller} from 'react-hook-form';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport {updateSearchedDriveDayBeginDate, updateSearchedDriveDayEndDate, addSearchedDriveDays, updateModalStepForward} from '../../../actions/historyPage/modalActions';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nfunction DateForm(props) {\r\n\r\n    const {handleSubmit, control} = useForm();\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = async (data) => {\r\n        const driveDayStartDateISO = new Date(data.startDate).toISOString();\r\n        const driveDayEndDateISO = new Date(data.endDate).toISOString();\r\n\r\n        const driveDayStartDate = driveDayStartDateISO.substr(0, driveDayStartDateISO.indexOf(\"T\"));\r\n        const driveDayEndDate = driveDayEndDateISO.substr(0, driveDayEndDateISO.indexOf(\"T\"));\r\n\r\n        dispatch(updateSearchedDriveDayBeginDate(driveDayStartDate));\r\n        dispatch(updateSearchedDriveDayEndDate(driveDayEndDate));\r\n\r\n        const driveDays = await axios.get(`http://localhost:4000/api/v1/drive-days?dates=${driveDayStartDate},${driveDayEndDate}`);\r\n\r\n        dispatch(addSearchedDriveDays(driveDays.data));\r\n        dispatch(updateModalStepForward());\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className=\"d-flex\">\r\n                <div className=\"mr-2\">\r\n                    <p>Start Date</p>\r\n                    <Controller name=\"startDate\" control={control} render={ \r\n                        ( { onChange, value, defaultValue} ) => (\r\n                        <DatePicker selected={value} placeholderText=\"Search Start Date\"  onChange={onChange} showYearDropdown />\r\n                    )} />\r\n                </div>\r\n                <div>\r\n                    <p>End Date</p>\r\n                    <Controller name=\"endDate\" control={control} render={ \r\n                        ( { onChange, value } ) => (\r\n                        <DatePicker placeholderText=\"Search End Date\" selected={value} onChange={onChange} showYearDropdown />\r\n                    )} /> \r\n                </div>\r\n            </div>\r\n            <button className=\"btn btn-primary\" type=\"submit\" className=\"d-block\">Next</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default DateForm;\r\n"]},"metadata":{},"sourceType":"module"}