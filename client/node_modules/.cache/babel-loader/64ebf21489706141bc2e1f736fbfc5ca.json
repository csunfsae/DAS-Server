{"ast":null,"code":"import { D2R } from './constants/values';\nimport PrimeMeridian from './constants/PrimeMeridian';\nimport units from './constants/units';\nimport match from './match';\nexport default function (defData) {\n  var self = {};\n  var paramObj = defData.split('+').map(function (v) {\n    return v.trim();\n  }).filter(function (a) {\n    return a;\n  }).reduce(function (p, a) {\n    var split = a.split('=');\n    split.push(true);\n    p[split[0].toLowerCase()] = split[1];\n    return p;\n  }, {});\n  var paramName, paramVal, paramOutname;\n  var params = {\n    proj: 'projName',\n    datum: 'datumCode',\n    rf: function (v) {\n      self.rf = parseFloat(v);\n    },\n    lat_0: function (v) {\n      self.lat0 = v * D2R;\n    },\n    lat_1: function (v) {\n      self.lat1 = v * D2R;\n    },\n    lat_2: function (v) {\n      self.lat2 = v * D2R;\n    },\n    lat_ts: function (v) {\n      self.lat_ts = v * D2R;\n    },\n    lon_0: function (v) {\n      self.long0 = v * D2R;\n    },\n    lon_1: function (v) {\n      self.long1 = v * D2R;\n    },\n    lon_2: function (v) {\n      self.long2 = v * D2R;\n    },\n    alpha: function (v) {\n      self.alpha = parseFloat(v) * D2R;\n    },\n    gamma: function (v) {\n      self.rectified_grid_angle = parseFloat(v);\n    },\n    lonc: function (v) {\n      self.longc = v * D2R;\n    },\n    x_0: function (v) {\n      self.x0 = parseFloat(v);\n    },\n    y_0: function (v) {\n      self.y0 = parseFloat(v);\n    },\n    k_0: function (v) {\n      self.k0 = parseFloat(v);\n    },\n    k: function (v) {\n      self.k0 = parseFloat(v);\n    },\n    a: function (v) {\n      self.a = parseFloat(v);\n    },\n    b: function (v) {\n      self.b = parseFloat(v);\n    },\n    r_a: function () {\n      self.R_A = true;\n    },\n    zone: function (v) {\n      self.zone = parseInt(v, 10);\n    },\n    south: function () {\n      self.utmSouth = true;\n    },\n    towgs84: function (v) {\n      self.datum_params = v.split(\",\").map(function (a) {\n        return parseFloat(a);\n      });\n    },\n    to_meter: function (v) {\n      self.to_meter = parseFloat(v);\n    },\n    units: function (v) {\n      self.units = v;\n      var unit = match(units, v);\n\n      if (unit) {\n        self.to_meter = unit.to_meter;\n      }\n    },\n    from_greenwich: function (v) {\n      self.from_greenwich = v * D2R;\n    },\n    pm: function (v) {\n      var pm = match(PrimeMeridian, v);\n      self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n    },\n    nadgrids: function (v) {\n      if (v === '@null') {\n        self.datumCode = 'none';\n      } else {\n        self.nadgrids = v;\n      }\n    },\n    axis: function (v) {\n      var legalAxis = \"ewnsud\";\n\n      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n        self.axis = v;\n      }\n    },\n    approx: function () {\n      self.approx = true;\n    }\n  };\n\n  for (paramName in paramObj) {\n    paramVal = paramObj[paramName];\n\n    if (paramName in params) {\n      paramOutname = params[paramName];\n\n      if (typeof paramOutname === 'function') {\n        paramOutname(paramVal);\n      } else {\n        self[paramOutname] = paramVal;\n      }\n    } else {\n      self[paramName] = paramVal;\n    }\n  }\n\n  if (typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\") {\n    self.datumCode = self.datumCode.toLowerCase();\n  }\n\n  return self;\n}","map":{"version":3,"sources":["C:/Users/brand/source/repos/DAS-Server/client/node_modules/proj4/lib/projString.js"],"names":["D2R","PrimeMeridian","units","match","defData","self","paramObj","split","map","v","trim","filter","a","reduce","p","push","toLowerCase","paramName","paramVal","paramOutname","params","proj","datum","rf","parseFloat","lat_0","lat0","lat_1","lat1","lat_2","lat2","lat_ts","lon_0","long0","lon_1","long1","lon_2","long2","alpha","gamma","rectified_grid_angle","lonc","longc","x_0","x0","y_0","y0","k_0","k0","k","b","r_a","R_A","zone","parseInt","south","utmSouth","towgs84","datum_params","to_meter","unit","from_greenwich","pm","nadgrids","datumCode","axis","legalAxis","length","indexOf","substr","approx"],"mappings":"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","sourcesContent":["import {D2R} from './constants/values';\nimport PrimeMeridian from './constants/PrimeMeridian';\nimport units from './constants/units';\nimport match from './match';\n\nexport default function(defData) {\n  var self = {};\n  var paramObj = defData.split('+').map(function(v) {\n    return v.trim();\n  }).filter(function(a) {\n    return a;\n  }).reduce(function(p, a) {\n    var split = a.split('=');\n    split.push(true);\n    p[split[0].toLowerCase()] = split[1];\n    return p;\n  }, {});\n  var paramName, paramVal, paramOutname;\n  var params = {\n    proj: 'projName',\n    datum: 'datumCode',\n    rf: function(v) {\n      self.rf = parseFloat(v);\n    },\n    lat_0: function(v) {\n      self.lat0 = v * D2R;\n    },\n    lat_1: function(v) {\n      self.lat1 = v * D2R;\n    },\n    lat_2: function(v) {\n      self.lat2 = v * D2R;\n    },\n    lat_ts: function(v) {\n      self.lat_ts = v * D2R;\n    },\n    lon_0: function(v) {\n      self.long0 = v * D2R;\n    },\n    lon_1: function(v) {\n      self.long1 = v * D2R;\n    },\n    lon_2: function(v) {\n      self.long2 = v * D2R;\n    },\n    alpha: function(v) {\n      self.alpha = parseFloat(v) * D2R;\n    },\n    gamma: function(v) {\n      self.rectified_grid_angle = parseFloat(v);\n    },\n    lonc: function(v) {\n      self.longc = v * D2R;\n    },\n    x_0: function(v) {\n      self.x0 = parseFloat(v);\n    },\n    y_0: function(v) {\n      self.y0 = parseFloat(v);\n    },\n    k_0: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    k: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    a: function(v) {\n      self.a = parseFloat(v);\n    },\n    b: function(v) {\n      self.b = parseFloat(v);\n    },\n    r_a: function() {\n      self.R_A = true;\n    },\n    zone: function(v) {\n      self.zone = parseInt(v, 10);\n    },\n    south: function() {\n      self.utmSouth = true;\n    },\n    towgs84: function(v) {\n      self.datum_params = v.split(\",\").map(function(a) {\n        return parseFloat(a);\n      });\n    },\n    to_meter: function(v) {\n      self.to_meter = parseFloat(v);\n    },\n    units: function(v) {\n      self.units = v;\n      var unit = match(units, v);\n      if (unit) {\n        self.to_meter = unit.to_meter;\n      }\n    },\n    from_greenwich: function(v) {\n      self.from_greenwich = v * D2R;\n    },\n    pm: function(v) {\n      var pm = match(PrimeMeridian, v);\n      self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n    },\n    nadgrids: function(v) {\n      if (v === '@null') {\n        self.datumCode = 'none';\n      }\n      else {\n        self.nadgrids = v;\n      }\n    },\n    axis: function(v) {\n      var legalAxis = \"ewnsud\";\n      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n        self.axis = v;\n      }\n    },\n    approx: function() {\n      self.approx = true;\n    }\n  };\n  for (paramName in paramObj) {\n    paramVal = paramObj[paramName];\n    if (paramName in params) {\n      paramOutname = params[paramName];\n      if (typeof paramOutname === 'function') {\n        paramOutname(paramVal);\n      }\n      else {\n        self[paramOutname] = paramVal;\n      }\n    }\n    else {\n      self[paramName] = paramVal;\n    }\n  }\n  if(typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\"){\n    self.datumCode = self.datumCode.toLowerCase();\n  }\n  return self;\n}\n"]},"metadata":{},"sourceType":"module"}