{"ast":null,"code":"import _slicedToArray from\"C:/Users/brand/source/repos/DAS-Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext,useRef,useLayoutEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{SocketContext}from'../../../SocketContext';import{updateSteeringAngle}from'../../../actions/livePage/vehicleDynamicsActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SteeringAngle(){var socket=useContext(SocketContext);var dispatch=useDispatch();var steeringAngleContainer=useRef(null);var _useState=useState({height:0,width:0}),_useState2=_slicedToArray(_useState,2),svgLength=_useState2[0],setSvgLength=_useState2[1];var steering_angle=useSelector(function(state){return state.vehicleDynamics.steeringAngle;});useLayoutEffect(function(){if(steeringAngleContainer.current){setSvgLength({height:steeringAngleContainer.current.offsetHeight,width:steeringAngleContainer.current.offsetWidth});}},[steeringAngleContainer]);useEffect(function(){socket.on('steering_angle',function(data){dispatch(updateSteeringAngle(data));});},[]);var fill=\"#000\";var percentage=parseFloat(parseFloat(8.5+parseFloat(parseFloat(parseFloat(steering_angle.value-steering_angle.min)*100)/parseFloat(steering_angle.max-steering_angle.min))));return/*#__PURE__*/_jsxs(\"div\",{className:\"horizontal-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sensor-desc text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sensor__name\",children:\"Steering Angle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sensor__value\",children:\"\".concat(parseFloat(parseFloat(8.5+parseFloat(steering_angle.value))).toFixed(2),\"\\xB0\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"horizontal-svg-container svg-container\",ref:steeringAngleContainer,children:/*#__PURE__*/_jsx(\"svg\",{className:\"horizontal-svg\",children:/*#__PURE__*/_jsx(\"path\",{className:\"horizontal-svg__path svg__path\",d:\"M \".concat(svgLength.width/2,\" 0 H \").concat(svgLength.width*percentage/100,\" V \").concat(svgLength.height,\" H \").concat(svgLength.width/2,\"  L \").concat(svgLength.width/2,\"  0\"),fill:fill})})})]});}export default SteeringAngle;","map":{"version":3,"sources":["C:/Users/brand/source/repos/DAS-Server/client/src/components/livePage/SteeringAngle/SteeringAngle.js"],"names":["React","useEffect","useState","useContext","useRef","useLayoutEffect","useSelector","useDispatch","SocketContext","updateSteeringAngle","SteeringAngle","socket","dispatch","steeringAngleContainer","height","width","svgLength","setSvgLength","steering_angle","state","vehicleDynamics","steeringAngle","current","offsetHeight","offsetWidth","on","data","fill","percentage","parseFloat","value","min","max","toFixed"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,CAAoCC,UAApC,CAAgDC,MAAhD,CAAwDC,eAAxD,KAA8E,OAA9E,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,aAAR,KAA6B,wBAA7B,CACA,OAAQC,mBAAR,KAAkC,kDAAlC,C,wFAGA,QAASC,CAAAA,aAAT,EAA0B,CAEtB,GAAMC,CAAAA,MAAM,CAAGR,UAAU,CAACK,aAAD,CAAzB,CAEA,GAAMI,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CAEA,GAAMM,CAAAA,sBAAsB,CAAGT,MAAM,CAAC,IAAD,CAArC,CAEA,cAAkCF,QAAQ,CAAE,CAAEY,MAAM,CAAE,CAAV,CAAaC,KAAK,CAAE,CAApB,CAAF,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,cAAc,CAAGZ,WAAW,CAAE,SAACa,KAAD,QAAWA,CAAAA,KAAK,CAACC,eAAN,CAAsBC,aAAjC,EAAF,CAAlC,CAEAhB,eAAe,CAAE,UAAM,CAEnB,GAAIQ,sBAAsB,CAACS,OAA3B,CAAoC,CAEhCL,YAAY,CAAE,CACVH,MAAM,CAAED,sBAAsB,CAACS,OAAvB,CAA+BC,YAD7B,CAEVR,KAAK,CAAEF,sBAAsB,CAACS,OAAvB,CAA+BE,WAF5B,CAAF,CAAZ,CAIH,CAEJ,CAVc,CAUZ,CAACX,sBAAD,CAVY,CAAf,CAYAZ,SAAS,CAAE,UAAK,CACZU,MAAM,CAACc,EAAP,CAAU,gBAAV,CAA4B,SAACC,IAAD,CAAU,CAClCd,QAAQ,CAACH,mBAAmB,CAACiB,IAAD,CAApB,CAAR,CACH,CAFD,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAIC,CAAAA,IAAI,CAAG,MAAX,CAEA,GAAMC,CAAAA,UAAU,CAAGC,UAAU,CAAEA,UAAU,CAAC,IAAMA,UAAU,CAAEA,UAAU,CAAEA,UAAU,CAACX,cAAc,CAACY,KAAf,CAAuBZ,cAAc,CAACa,GAAvC,CAAV,CAAwD,GAA1D,CAAV,CAA2EF,UAAU,CAACX,cAAc,CAACc,GAAf,CAAqBd,cAAc,CAACa,GAArC,CAAvF,CAAjB,CAAZ,CAA7B,CAEA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,aAAK,SAAS,CAAC,yBAAf,wBACI,YAAK,SAAS,CAAC,cAAf,4BADJ,cAII,YAAK,SAAS,CAAC,eAAf,oBACSF,UAAU,CAACA,UAAU,CAAC,IAAMA,UAAU,CAACX,cAAc,CAACY,KAAhB,CAAjB,CAAX,CAAV,CAA+DG,OAA/D,CAAuE,CAAvE,CADT,UAJJ,GADJ,cASI,YAAK,SAAS,CAAC,wCAAf,CAAwD,GAAG,CAAEpB,sBAA7D,uBACI,YAAK,SAAS,CAAC,gBAAf,uBACI,aAAM,SAAS,CAAC,gCAAhB,CACI,CAAC,aAAQG,SAAS,CAACD,KAAV,CAAkB,CAA1B,iBAAsCC,SAAS,CAACD,KAAV,CAAkBa,UAAnB,CAAiC,GAAtE,eAAgFZ,SAAS,CAACF,MAA1F,eAAuGE,SAAS,CAACD,KAAV,CAAkB,CAAzH,gBAAmIC,SAAS,CAACD,KAAV,CAAkB,CAArJ,OADL,CAEI,IAAI,CAAEY,IAFV,EADJ,EADJ,EATJ,GADJ,CAoBH,CAED,cAAejB,CAAAA,aAAf","sourcesContent":["import React, {useEffect, useState, useContext, useRef, useLayoutEffect} from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {SocketContext } from '../../../SocketContext';\r\nimport {updateSteeringAngle} from '../../../actions/livePage/vehicleDynamicsActions'\r\n\r\n\r\nfunction SteeringAngle () {\r\n\r\n    const socket = useContext(SocketContext);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const steeringAngleContainer = useRef(null);\r\n\r\n    const [svgLength, setSvgLength] = useState( { height: 0, width: 0 } );\r\n\r\n    const steering_angle = useSelector( (state) => state.vehicleDynamics.steeringAngle);\r\n\r\n    useLayoutEffect( () => {\r\n\r\n        if (steeringAngleContainer.current) {\r\n           \r\n            setSvgLength( {\r\n                height: steeringAngleContainer.current.offsetHeight,\r\n                width: steeringAngleContainer.current.offsetWidth \r\n           })\r\n        }\r\n\r\n    }, [steeringAngleContainer])\r\n\r\n    useEffect( ()=> {\r\n        socket.on('steering_angle', (data) => {\r\n            dispatch(updateSteeringAngle(data))\r\n        });\r\n    }, [])\r\n\r\n    let fill = \"#000\";\r\n\r\n    const percentage = parseFloat( parseFloat(8.5 + parseFloat( parseFloat( parseFloat(steering_angle.value - steering_angle.min) * 100) / parseFloat(steering_angle.max - steering_angle.min))) );\r\n\r\n    return (\r\n        <div className=\"horizontal-bar\">\r\n            <div className=\"sensor-desc text-center\">\r\n                <div className=\"sensor__name\">\r\n                    Steering Angle\r\n                </div>\r\n                <div className=\"sensor__value\">\r\n                    { `${parseFloat(parseFloat(8.5 + parseFloat(steering_angle.value))).toFixed(2)}Â°` } \r\n                </div>\r\n            </div>\r\n            <div className=\"horizontal-svg-container svg-container\" ref={steeringAngleContainer}>\r\n                <svg className=\"horizontal-svg\">\r\n                    <path className=\"horizontal-svg__path svg__path\"\r\n                        d={`M ${ svgLength.width / 2 } 0 H ${ (svgLength.width * percentage) / 100 } V ${svgLength.height} H ${ svgLength.width / 2 }  L ${ svgLength.width / 2 }  0`}\r\n                        fill={fill}\r\n                    />\r\n                </svg>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SteeringAngle;"]},"metadata":{},"sourceType":"module"}